
R version 3.3.0 (2016-05-03) -- "Supposedly Educational"
Copyright (C) 2016 The R Foundation for Statistical Computing
Platform: x86_64-pc-linux-gnu (64-bit)

R is free software and comes with ABSOLUTELY NO WARRANTY.
You are welcome to redistribute it under certain conditions.
Type 'license()' or 'licence()' for distribution details.

R is a collaborative project with many contributors.
Type 'contributors()' for more information and
'citation()' on how to cite R or R packages in publications.

Type 'demo()' for some demos, 'help()' for on-line help, or
'help.start()' for an HTML browser interface to help.
Type 'q()' to quit R.

> #
> # This is a test of many plots.  They get saved as xxx.pdf, and then compared
> #  to xxx.pdf.save using tools:Rdiff.  Pdf files have a header that contains
> #  a date, but the Rdiff sniffs that out and ignores it.
> # Per the example in the test directory of R sources, use compress=FALSE
> #  on the pdf to keep it as ascii.
> library(survival)
> library(tools)
> 
> # survfit curves
> pdf("plot1.pdf", compress=FALSE)
> fit1 <- survfit(Surv(time, status) ~ ph.ecog, data=lung)
> plot(fit1, mark=1:4)
> plot(fit1, conf.int=T, fun="event", col=1:4)
> plot(fit1, mark.time=FALSE, fun="cloglog")
> lines(fit1[2], mark.time=FALSE, conf.int='only', col=3, lty=2,
+       fun='cloglog')
> #points(fit1[3], col=6)
> dev.off()
null device 
          1 
> if (Rdiff("plot1.pdf", "plot1.pdf.save")) cat("plot1 differs")

files differ in number of lines:
169a170
> 453.13 113.77 l
402a404
> 457.81 108.13 l
669c671
< 10626
---
> 10658
829a832
> 453.89 404.63 l
830a834,885
> 136.34 136.34 m 143.97 136.34 l S
> 140.15 132.52 m 140.15 140.16 l S
> 142.35 147.47 m 149.98 147.47 l S
> 146.17 143.65 m 146.17 151.29 l S
> 146.48 153.14 m 154.12 153.14 l S
> 150.30 149.33 m 150.30 156.96 l S
> 154.75 153.14 m 162.38 153.14 l S
> 158.56 149.33 m 158.56 156.96 l S
> 155.12 153.14 m 162.76 153.14 l S
> 158.94 149.33 m 158.94 156.96 l S
> 158.88 153.14 m 166.52 153.14 l S
> 162.70 149.33 m 162.70 156.96 l S
> 160.76 153.14 m 168.39 153.14 l S
> 164.58 149.33 m 164.58 156.96 l S
> 165.27 159.46 m 172.90 159.46 l S
> 169.08 155.65 m 169.08 163.28 l S
> 167.90 159.46 m 175.53 159.46 l S
> 171.72 155.65 m 171.72 163.28 l S
> 170.53 159.46 m 178.16 159.46 l S
> 174.35 155.65 m 174.35 163.28 l S
> 171.65 166.26 m 179.29 166.26 l S
> 175.47 162.44 m 175.47 170.08 l S
> 174.28 166.26 m 181.92 166.26 l S
> 178.10 162.44 m 178.10 170.08 l S
> 177.29 166.26 m 184.93 166.26 l S
> 181.11 162.44 m 181.11 170.08 l S
> 180.30 180.98 m 187.93 180.98 l S
> 184.11 177.16 m 184.11 184.79 l S
> 183.30 180.98 m 190.94 180.98 l S
> 187.12 177.16 m 187.12 184.79 l S
> 188.94 188.80 m 196.57 188.80 l S
> 192.76 184.98 m 192.76 192.61 l S
> 195.33 196.88 m 202.96 196.88 l S
> 199.14 193.06 m 199.14 200.69 l S
> 214.11 255.46 m 221.75 255.46 l S
> 217.93 251.64 m 217.93 259.28 l S
> 214.86 255.46 m 222.50 255.46 l S
> 218.68 251.64 m 218.68 259.28 l S
> 237.41 292.46 m 245.04 292.46 l S
> 241.23 288.64 m 241.23 296.27 l S
> 274.61 302.37 m 282.24 302.37 l S
> 278.42 298.55 m 278.42 306.18 l S
> 280.62 313.10 m 288.25 313.10 l S
> 284.44 309.28 m 284.44 316.92 l S
> 291.51 324.91 m 299.15 324.91 l S
> 295.33 321.09 m 295.33 328.73 l S
> 379.06 378.06 m 386.70 378.06 l S
> 382.88 374.24 m 382.88 381.87 l S
> 386.20 378.06 m 393.83 378.06 l S
> 390.02 374.24 m 390.02 381.87 l S
> 450.07 404.63 m 457.71 404.63 l S
> 453.89 400.81 m 453.89 408.45 l S
906a962
> 453.89 425.95 l
975a1032
> 453.89 296.82 l
1133a1191
> 458.40 410.27 l
1134a1193,1254
> 135.58 163.31 m 143.22 163.31 l S
> 139.40 159.49 m 139.40 167.12 l S
> 135.96 163.31 m 143.60 163.31 l S
> 139.78 159.49 m 139.78 167.12 l S
> 137.09 166.42 m 144.72 166.42 l S
> 140.90 162.60 m 140.90 170.24 l S
> 140.09 182.18 m 147.73 182.18 l S
> 143.91 178.36 m 143.91 186.00 l S
> 141.22 185.37 m 148.86 185.37 l S
> 145.04 181.56 m 145.04 189.19 l S
> 142.72 185.37 m 150.36 185.37 l S
> 146.54 181.56 m 146.54 189.19 l S
> 144.23 188.65 m 151.86 188.65 l S
> 148.04 184.83 m 148.04 192.47 l S
> 144.60 191.97 m 152.24 191.97 l S
> 148.42 188.16 m 148.42 195.79 l S
> 146.86 195.34 m 154.49 195.34 l S
> 150.67 191.53 m 150.67 199.16 l S
> 153.62 205.60 m 161.26 205.60 l S
> 157.44 201.78 m 157.44 209.42 l S
> 153.99 205.60 m 161.63 205.60 l S
> 157.81 201.78 m 157.81 209.42 l S
> 155.12 209.12 m 162.76 209.12 l S
> 158.94 205.31 m 158.94 212.94 l S
> 159.63 219.87 m 167.27 219.87 l S
> 163.45 216.05 m 163.45 223.69 l S
> 161.88 223.51 m 169.52 223.51 l S
> 165.70 219.69 m 165.70 227.33 l S
> 172.78 238.35 m 180.42 238.35 l S
> 176.60 234.53 m 176.60 242.17 l S
> 175.41 238.35 m 183.05 238.35 l S
> 179.23 234.53 m 179.23 242.17 l S
> 181.80 249.92 m 189.44 249.92 l S
> 185.62 246.10 m 185.62 253.74 l S
> 183.68 253.86 m 191.31 253.86 l S
> 187.50 250.04 m 187.50 257.68 l S
> 184.43 253.86 m 192.07 253.86 l S
> 188.25 250.04 m 188.25 257.68 l S
> 204.34 270.36 m 211.98 270.36 l S
> 208.16 266.54 m 208.16 274.17 l S
> 207.35 283.05 m 214.99 283.05 l S
> 211.17 279.24 m 211.17 286.87 l S
> 211.86 287.41 m 219.49 287.41 l S
> 215.68 283.59 m 215.68 291.23 l S
> 222.38 291.91 m 230.01 291.91 l S
> 226.20 288.09 m 226.20 295.72 l S
> 225.76 291.91 m 233.40 291.91 l S
> 229.58 288.09 m 229.58 295.72 l S
> 242.67 311.12 m 250.30 311.12 l S
> 246.49 307.30 m 246.49 314.94 l S
> 262.58 326.13 m 270.22 326.13 l S
> 266.40 322.31 m 266.40 329.95 l S
> 269.34 341.89 m 276.98 341.89 l S
> 273.16 338.07 m 273.16 345.71 l S
> 348.62 403.29 m 356.26 403.29 l S
> 352.44 399.47 m 352.44 407.11 l S
> 373.42 410.27 m 381.06 410.27 l S
> 377.24 406.45 m 377.24 414.09 l S
> 433.16 410.27 m 440.80 410.27 l S
> 436.98 406.45 m 436.98 414.09 l S
> 454.58 410.27 m 462.22 410.27 l S
> 458.40 406.45 m 458.40 414.09 l S
1290a1411
> 458.40 423.45 l
1439a1561
> 458.40 374.67 l
1533a1656,1667
> 105.15 156.00 m 112.79 156.00 l S
> 108.97 152.18 m 108.97 159.82 l S
> 110.03 177.17 m 117.67 177.17 l S
> 113.85 173.35 m 113.85 180.99 l S
> 149.86 278.78 m 157.50 278.78 l S
> 153.68 274.96 m 153.68 282.60 l S
> 180.30 324.51 m 187.93 324.51 l S
> 184.11 320.69 m 184.11 328.33 l S
> 262.58 373.75 m 270.22 373.75 l S
> 266.40 369.93 m 266.40 377.57 l S
> 277.61 392.90 m 285.25 392.90 l S
> 281.43 389.08 m 281.43 396.72 l S
1622a1757
> 380.25 429.13 l
1704a1840
> 380.25 352.30 l
1712a1849,1856
> 0.75 w
> [ 2.25 3.75] 0 d
> 74.40 87.20 m
> 118.74 87.20 l
> S
> 74.40 87.20 m
> 118.74 87.20 l
> S
1717c1861
< 16454
---
> 20952
1883a2028
> 457.55 416.56 l
2036a2182
> 458.40 421.74 l
2122a2269
> 441.98 431.20 l
2278a2426
> 458.40 439.41 l
2425a2574
> 458.40 396.25 l
2431c2580
< 11454
---
> 11534
2669,2672c2818,2821
< 0000039215 00000 n 
< 0000039312 00000 n 
< 0000039436 00000 n 
< 0000039469 00000 n 
---
> 0000043825 00000 n 
> 0000043922 00000 n 
> 0000044046 00000 n 
> 0000044079 00000 n 
2675,2684c2824,2833
< 0000010970 00000 n 
< 0000010991 00000 n 
< 0000011073 00000 n 
< 0000027581 00000 n 
< 0000027603 00000 n 
< 0000027685 00000 n 
< 0000039193 00000 n 
< 0000049005 00000 n 
< 0000049263 00000 n 
< 0000049347 00000 n 
---
> 0000011002 00000 n 
> 0000011023 00000 n 
> 0000011105 00000 n 
> 0000032111 00000 n 
> 0000032133 00000 n 
> 0000032215 00000 n 
> 0000043803 00000 n 
> 0000053615 00000 n 
> 0000053873 00000 n 
> 0000053957 00000 n 
2688c2837
< 49445
---
> 54055
plot1 differs> 
> proc.time()
   user  system elapsed 
  0.764   0.040   0.806 
